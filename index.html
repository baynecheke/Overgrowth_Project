<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Overgrowth Game</title>
<style>
  body {
    margin: 0;
    font-family: sans-serif;
    background-color: #87CEEB; /* sky blue */
    overflow: hidden;
  }
  /* Loading Screen */
  #loadingScreen {
    position: fixed;
    top: 0; left: 0;
    width: 100%; height: 100%;
    display: flex;
    justify-content: center;
    align-items: center;
    flex-direction: column;
    z-index: 1000;
    background-color: #87CEEB;
  }
  #flower {
    width: 50px;
    height: 50px;
    background: pink;
    border-radius: 50%;
    transform: scale(0);
    transition: transform 6s linear;
    margin-bottom: 20px;
  }
  /* Game Screen */
  #gameScreen {
    display: none;
    padding: 20px;
    text-align: center;
  }
  .card {
    display: inline-block;
    width: 80px;
    height: 120px;
    margin: 10px;
    background: #fff;
    border: 2px solid #333;
    border-radius: 8px;
    position: relative;
    cursor: pointer;
    transition: transform 0.3s;
  }
  .card:hover {
    transform: scale(1.1);
  }
  .healthBar {
    position: absolute;
    bottom: 5px;
    left: 5px;
    width: 70px;
    height: 10px;
    background: red;
    border-radius: 4px;
    overflow: hidden;
  }
  .healthFill {
    height: 100%;
    background: green;
    width: 100%;
    transition: width 0.5s ease;
  }
  #message {
    margin-top: 20px;
    font-weight: bold;
    min-height: 24px;
  }
  /* Win Screen */
  #winScreen {
    display: none;
    text-align: center;
    padding: 20px;
  }
  button {
    padding: 10px 20px;
    font-size: 16px;
    margin-top: 20px;
  }
</style>
</head>
<body>

<!-- Loading Screen -->
<div id="loadingScreen">
  <div id="flower"></div>
  <p>Loading...</p>
</div>

<!-- Game Screen -->
<div id="gameScreen">
  <h1>Overgrowth</h1>
  <div id="playerCards"></div>
  <div id="enemyCards"></div>
  <p id="message"></p>
</div>

<!-- Win Screen -->
<div id="winScreen">
  <h1 id="winMessage"></h1>
  <button onclick="restartGame()">Restart</button>
</div>

<script>
  const loadingScreen = document.getElementById('loadingScreen');
  const flower = document.getElementById('flower');
  const gameScreen = document.getElementById('gameScreen');
  const playerCardsDiv = document.getElementById('playerCards');
  const enemyCardsDiv = document.getElementById('enemyCards');
  const message = document.getElementById('message');
  const winScreen = document.getElementById('winScreen');
  const winMessage = document.getElementById('winMessage');

  let playerCards = [];
  let enemyCards = [];

  // Card constructor
  function createCard(name, hp) {
    return { name, maxHp: hp, hp };
  }

  // Initialize cards
  function initCards() {
    playerCards = [
      createCard('Sunflower', 40),
      createCard('Rose', 50),
      createCard('Tulip', 35)
    ];
    enemyCards = [
      createCard('Thorn', 30),
      createCard('Venus Flytrap', 45),
      createCard('Cactus', 40)
    ];
  }

  // Render cards
  function renderCards() {
    playerCardsDiv.innerHTML = '';
    enemyCardsDiv.innerHTML = '';

    playerCards.forEach((card, i) => {
      const div = document.createElement('div');
      div.className = 'card';
      div.innerHTML = `<strong>${card.name}</strong>`;
      const healthBar = document.createElement('div');
      healthBar.className = 'healthBar';
      const healthFill = document.createElement('div');
      healthFill.className = 'healthFill';
      healthFill.style.width = (card.hp / card.maxHp * 100) + '%';
      healthBar.appendChild(healthFill);
      div.appendChild(healthBar);
      div.onclick = () => playerAttack(i);
      playerCardsDiv.appendChild(div);
    });

    enemyCards.forEach((card) => {
      const div = document.createElement('div');
      div.className = 'card';
      div.innerHTML = `<strong>${card.name}</strong>`;
      const healthBar = document.createElement('div');
      healthBar.className = 'healthBar';
      const healthFill = document.createElement('div');
      healthFill.className = 'healthFill';
      healthFill.style.width = (card.hp / card.maxHp * 100) + '%';
      healthBar.appendChild(healthFill);
      div.appendChild(healthBar);
      enemyCardsDiv.appendChild(div);
    });
  }

  // Player attacks enemy
  function playerAttack(index) {
    if (enemyCards.length === 0) return;
    const target = enemyCards[0];
    const damage = Math.floor(Math.random() * 15) + 5;
    target.hp -= damage;
    if (target.hp <= 0) enemyCards.shift();
    message.textContent = `You attacked ${target.name} for ${damage} damage!`;
    renderCards();
    if (enemyCards.length === 0) return endGame('You Win!');
    setTimeout(enemyTurn, 700);
  }

  // Enemy attacks player
  function enemyTurn() {
    if (playerCards.length === 0) return;
    const target = playerCards[0];
    const damage = Math.floor(Math.random() * 15) + 5;
    target.hp -= damage;
    if (target.hp <= 0) playerCards.shift();
    message.textContent = `Enemy attacked ${target.name} for ${damage} damage!`;
    renderCards();
    if (playerCards.length === 0) return endGame('You Lose!');
  }

  // End game
  function endGame(result) {
    gameScreen.style.display = 'none';
    winScreen.style.display = 'block';
    winMessage.textContent = result;
  }

  // Restart game
  function restartGame() {
    initCards();
    winScreen.style.display = 'none';
    gameScreen.style.display = 'block';
    message.textContent = '';
    renderCards();
  }

  // Start loading animation
  setTimeout(() => {
    loadingScreen.style.display = 'none';
    gameScreen.style.display = 'block';
    renderCards();
  }, 6000);
  setTimeout(() => { flower.style.transform = 'scale(1.5)'; }, 50);

  // Initialize everything
  initCards();
</script>

</body>
</html>
